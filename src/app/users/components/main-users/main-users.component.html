
<div layout-gt-sm="row" tdMediaToggle="gt-sm" [mediaClasses]="['push-sm']" *tdLoading="'loading_users'; mode:'indeterminate'; type:'circle'; strategy:'overlay'; color:'accent'">
    <div flex-gt-sm="50">
        <mat-card>
            <mat-card-title class="text-xl text-upper mat-display-1 tc-orange-700 ">REGISTRO DE USUARIOS</mat-card-title>
            <mat-card-subtitle>Registras lo usuario que utilizaran esta APP</mat-card-subtitle>
            <mat-divider></mat-divider>
            <mat-card-content>
                <form #formUserRegister="ngForm" (submit)="onSubmit()">

                    <div layout-gt-xs="row">
                        <mat-form-field class="full-width" appearance="outline" flex-gt-xs="60">
                            <mat-label>Nombre</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">supervisor_account</mat-icon>
                            <input type="text" matInput placeholder="Escribe tu nombre" name="name" #name="ngModel"
                                   minlength="3" maxlength="20" [(ngModel)]="user.name" required>

                            <mat-error *ngIf="name.errors?.required">El nombre es obligatorio</mat-error>
                            <mat-error *ngIf="name.errors?.minlength">El nombre debe tener al menos 3 caracteres</mat-error>
                        </mat-form-field>



                        <span flex-gt-sm="10"></span>
                        <mat-form-field class="full-width" appearance="outline" flex-gt-xs="60">
                            <mat-label>Apellido</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">supervisor_account</mat-icon>
                            <input type="text" matInput placeholder="Escribe tu apellido " name="surname"
                                   #surname="ngModel" minlength="3" maxlength="20" [(ngModel)]="user.surname" required>

                            <mat-error *ngIf="surname.errors?.required">El apellido es obligatorio</mat-error>
                            <mat-error *ngIf="surname.errors?.minlength">El apellido debe tener al menos 3 caracteres
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div layout-gt-xs="row">
                        <mat-form-field class="full-width" appearance="outline" flex-gt-xs="60">
                            <mat-label>Nick</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">account_box</mat-icon>
                            <input type="text" matInput placeholder="Escribe tu nick " name="nick"
                                   #nick="ngModel" minlength="5" maxlength="20" [(ngModel)]="user.nick" required>
                            <mat-error *ngIf="nick.errors?.required">El nick es obligatorio</mat-error>
                            <mat-error *ngIf="nick.errors?.minlength">El nick debe tener al menos 5 caracteres
                            </mat-error>
                        </mat-form-field>

                        <span flex-gt-sm="10"></span>

                        <mat-form-field class="full-width" appearance="outline" flex-gt-xs="60">
                            <mat-label>Correo</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">email</mat-icon>
                            <input type="email" matInput placeholder="Escribe tu correo " name="email"
                                   #email="ngModel" minlength="3" maxlength="20" [(ngModel)]="user.email" required>

                            <mat-error *ngIf="email.errors?.required">El correo es obligatorio</mat-error>
                            <mat-error *ngIf="email.errors?.minlength">El correo debe tener al menos 3 caracteres
                            </mat-error>
                        </mat-form-field>

                    </div>


                    <div layout-gt-xs="row">
                        <mat-form-field appearance="outline" class="full-width" flex-gt-xs="60">
                                <mat-label>Seleciona el ROL</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">https</mat-icon>
                                <mat-select [(value)]="selected" >
                                    <mat-option value="option1">Usuario</mat-option>
                                    <mat-option value="option2">Admintrador</mat-option>
                                </mat-select>
                        </mat-form-field>

                        <span flex-gt-sm="10"></span>
                        <mat-form-field class="full-width" appearance="outline" flex-gt-xs="60">
                            <mat-label>Contraseña</mat-label>
                            <mat-icon matSuffix class="material-icons tc-green-700">vpn_key</mat-icon>
                            <input type="password" matInput placeholder="Escribe tu contraseña " name="paswword"
                                   #password="ngModel" minlength="6" maxlength="15" [(ngModel)]="user.password" required>

                            <mat-error *ngIf="email.errors?.required">La contraseña es obligatorio</mat-error>
                            <mat-error *ngIf="email.errors?.minlength">La contraseña debe tener al menos 3 caracteres
                            </mat-error>
                        </mat-form-field>

                    </div>


                    <div layout-gt-xs="row" class="text-center">

                        <span flex-gt-sm="100" class="full-width text-center" ><button mat-raised-button color="accent" type="submit" [disabled]="formUserRegister.invalid" ><mat-icon class="material-icons">person_add</mat-icon>Registrar</button></span>



                    </div>

                </form>
            </mat-card-content>
            <mat-divider></mat-divider>
            <mat-card-actions>

            </mat-card-actions>
        </mat-card>
    </div>
    <div flex-gt-sm="5"></div>
    <div flex-gt-sm="45">
        <mat-card>
            <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm">

                <mat-card-title class="text-xl text-upper mat-display-1 tc-orange-700">Usuario Registrados</mat-card-title>


                <!-- <span *ngIf="!searchBox.searchVisible" class="push-left-sm">
                   <span class="mat-title">Usuario Registrados</span>
                </span>

                <td-search-box #searchBox backIcon="arrow_back" class="push-right-sm"
                               placeholder="Search here" (searchDebounce)="search($event)" flex>
                </td-search-box>
                -->
            </div>
            <mat-card-subtitle>Listado de usuarios registrados</mat-card-subtitle>
            <mat-divider></mat-divider>
            <div>

            <mat-list>
                <mat-list-item>
                    <mat-icon matListAvatar>apps</mat-icon>
                    <h3 matLine class="tc-grey-500">NOMBRE Y EMAIL</h3>
                    <span hide-xs flex="30" class="mat-body-1 tc-grey-500 text-center">ROL</span>
                    <span hide-xs flex="30" class="mat-body-1 tc-grey-500 text-center">CREADO</span>
                    <span hide-xs flex="30" class="mat-body-1 tc-grey-500 text-center">ACCIÓN</span>

                </mat-list-item>
                <mat-divider></mat-divider>

                <ng-template let-item let-last="last" ngFor [ngForOf]="basicData">
                    <mat-list-item>
                        <mat-icon matListAvatar>person</mat-icon>
                        <h3 matLine> {{item.name}} </h3>
                        <p mat-line>{{item.email}}</p>
                        <span flex></span>

                        <span hide-xs flex="30" class="mat-body-1 text-center">
                        {{item.role}}
                      </span>

                        <span hide-xs flex="30" class="mat-body-1 text-center">
                        {{item.created_at| date: 'dd/MM/yyyy'}}
                      </span>
                        <span hide-xs flex="30" class="mat-body-1 text-center ">
                            <a  href="#" routerLink="edit/{{item.id}}" ><mat-icon class="tc-green-700">mode_edit</mat-icon></a>
                      </span>
                    </mat-list-item>
                    <mat-divider *ngIf="!last"></mat-divider>
                </ng-template>
            </mat-list>
            <td-paging-bar #pagingBarLinks pageLinkCount="5" [firstLast]="false" [pageSize]="pageSize" [total]="total"
                           (change)="changeLinks($event)">
                <span hide-xs>{{pagingBarLinks.range}} of {{pagingBarLinks.total}}</span>
            </td-paging-bar>
            </div>

        </mat-card>
    </div>
</div>